<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منشئ الذرات - استكشف بنية الذرات تفاعلياً</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 30px 0;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 3em;
            font-weight: 700;
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #a8a8b3;
            font-weight: 300;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .periodic-table-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
        }

        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, 1fr);
            gap: 2px;
            margin-bottom: 20px;
        }

        .element {
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8em;
            position: relative;
            overflow: hidden;
        }

        .element:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            z-index: 10;
        }

        .element.active {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            box-shadow: 0 0 30px rgba(79, 172, 254, 0.6);
        }

        .element-symbol {
            font-weight: 700;
            font-size: 1.2em;
        }

        .element-number {
            font-size: 0.7em;
            opacity: 0.7;
        }

        .atom-viewer {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            position: relative;
        }

        #atom-canvas {
            width: 100%;
            height: 500px;
            border-radius: 15px;
            background: radial-gradient(circle at center, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.95));
        }

        .controls {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            font-size: 0.9em;
            color: #a8a8b3;
        }

        .slider {
            width: 150px;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
        }

        .slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
        }

        .btn {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Tajawal', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.5);
        }

        .element-info {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        .element-info h2 {
            font-size: 2em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .info-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-label {
            font-size: 0.9em;
            color: #a8a8b3;
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1.2em;
            font-weight: 500;
        }

        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2em;
            color: #4facfe;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .periodic-table {
                grid-template-columns: repeat(9, 1fr);
            }
            
            .controls {
                flex-direction: column;
            }
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9em;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .noble-gas { background: #ff6b6b; }
        .alkali-metal { background: #4ecdc4; }
        .alkaline-earth { background: #45b7d1; }
        .transition-metal { background: #f9ca24; }
        .post-transition { background: #6c5ce7; }
        .metalloid { background: #a29bfe; }
        .nonmetal { background: #fd79a8; }
        .halogen { background: #fdcb6e; }
        .lanthanide { background: #e17055; }
        .actinide { background: #00b894; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>منشئ الذرات</h1>
            <p class="subtitle">إنشاء واستكشاف بنية الذرات تفاعليًا - 118 عنصر من الجدول الدوري</p>
        </header>

        <div class="main-content">
            <div class="periodic-table-container">
                <h3 style="text-align: center; margin-bottom: 15px;">الجدول الدوري</h3>
                <div class="periodic-table" id="periodic-table"></div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color noble-gas"></div>
                        <span>غازات نبيلة</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color alkali-metal"></div>
                        <span>فلزات قلوية</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color halogen"></div>
                        <span>هالوجينات</span>
                    </div>
                </div>
            </div>

            <div class="atom-viewer">
                <div id="atom-canvas">
                    <div class="loading">اختر عنصراً من الجدول الدوري</div>
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">
                <label>سرعة الدوران</label>
                <input type="range" class="slider" id="rotation-speed" min="0" max="100" value="50">
            </div>
            <div class="control-group">
                <label>حجم النواة</label>
                <input type="range" class="slider" id="nucleus-size" min="50" max="150" value="100">
            </div>
            <div class="control-group">
                <label>حجم المدارات</label>
                <input type="range" class="slider" id="orbit-size" min="50" max="150" value="100">
            </div>
            <div class="control-group">
                <label>عرض الإلكترونات</label>
                <button class="btn" id="toggle-electrons">إخفاء الإلكترونات</button>
            </div>
            <div class="control-group">
                <label>نموذج العرض</label>
                <button class="btn" id="model-toggle">نموذج بور</button>
            </div>
        </div>

        <div class="element-info" id="element-info" style="display: none;">
            <h2 id="element-name">اختر عنصراً</h2>
            <div class="info-grid" id="info-grid"></div>
        </div>
    </div>

    <script>
        // بيانات العناصر
        const elements = [
            {symbol: 'H', name: 'هيدروجين', number: 1, mass: 1.008, electrons: [1], type: 'nonmetal'},
            {symbol: 'He', name: 'هيليوم', number: 2, mass: 4.003, electrons: [2], type: 'noble-gas'},
            {symbol: 'Li', name: 'ليثيوم', number: 3, mass: 6.941, electrons: [2, 1], type: 'alkali-metal'},
            {symbol: 'Be', name: 'بريليوم', number: 4, mass: 9.012, electrons: [2, 2], type: 'alkaline-earth'},
            {symbol: 'B', name: 'بورون', number: 5, mass: 10.81, electrons: [2, 3], type: 'metalloid'},
            {symbol: 'C', name: 'كربون', number: 6, mass: 12.01, electrons: [2, 4], type: 'nonmetal'},
            {symbol: 'N', name: 'نيتروجين', number: 7, mass: 14.01, electrons: [2, 5], type: 'nonmetal'},
            {symbol: 'O', name: 'أكسجين', number: 8, mass: 16.00, electrons: [2, 6], type: 'nonmetal'},
            {symbol: 'F', name: 'فلور', number: 9, mass: 19.00, electrons: [2, 7], type: 'halogen'},
            {symbol: 'Ne', name: 'نيون', number: 10, mass: 20.18, electrons: [2, 8], type: 'noble-gas'},
            {symbol: 'Na', name: 'صوديوم', number: 11, mass: 22.99, electrons: [2, 8, 1], type: 'alkali-metal'},
            {symbol: 'Mg', name: 'مغنيسيوم', number: 12, mass: 24.31, electrons: [2, 8, 2], type: 'alkaline-earth'},
            {symbol: 'Al', name: 'ألومنيوم', number: 13, mass: 26.98, electrons: [2, 8, 3], type: 'post-transition'},
            {symbol: 'Si', name: 'سيليكون', number: 14, mass: 28.09, electrons: [2, 8, 4], type: 'metalloid'},
            {symbol: 'P', name: 'فوسفور', number: 15, mass: 30.97, electrons: [2, 8, 5], type: 'nonmetal'},
            {symbol: 'S', name: 'كبريت', number: 16, mass: 32.07, electrons: [2, 8, 6], type: 'nonmetal'},
            {symbol: 'Cl', name: 'كلور', number: 17, mass: 35.45, electrons: [2, 8, 7], type: 'halogen'},
            {symbol: 'Ar', name: 'أرجون', number: 18, mass: 39.95, electrons: [2, 8, 8], type: 'noble-gas'},
            {symbol: 'K', name: 'بوتاسيوم', number: 19, mass: 39.10, electrons: [2, 8, 8, 1], type: 'alkali-metal'},
            {symbol: 'Ca', name: 'كالسيوم', number: 20, mass: 40.08, electrons: [2, 8, 8, 2], type: 'alkaline-earth'},
            {symbol: 'Sc', name: 'سكانديوم', number: 21, mass: 44.96, electrons: [2, 8, 9, 2], type: 'transition-metal'},
            {symbol: 'Ti', name: 'تيتانيوم', number: 22, mass: 47.87, electrons: [2, 8, 10, 2], type: 'transition-metal'},
            {symbol: 'V', name: 'فاناديوم', number: 23, mass: 50.94, electrons: [2, 8, 11, 2], type: 'transition-metal'},
            {symbol: 'Cr', name: 'كروم', number: 24, mass: 52.00, electrons: [2, 8, 13, 1], type: 'transition-metal'},
            {symbol: 'Mn', name: 'منغنيز', number: 25, mass: 54.94, electrons: [2, 8, 13, 2], type: 'transition-metal'},
            {symbol: 'Fe', name: 'حديد', number: 26, mass: 55.85, electrons: [2, 8, 14, 2], type: 'transition-metal'},
            {symbol: 'Co', name: 'كوبالت', number: 27, mass: 58.93, electrons: [2, 8, 15, 2], type: 'transition-metal'},
            {symbol: 'Ni', name: 'نيكل', number: 28, mass: 58.69, electrons: [2, 8, 16, 2], type: 'transition-metal'},
            {symbol: 'Cu', name: 'نحاس', number: 29, mass: 63.55, electrons: [2, 8, 18, 1], type: 'transition-metal'},
            {symbol: 'Zn', name: 'زنك', number: 30, mass: 65.38, electrons: [2, 8, 18, 2], type: 'transition-metal'},
            {symbol: 'Ga', name: 'غاليوم', number: 31, mass: 69.72, electrons: [2, 8, 18, 3], type: 'post-transition'},
            {symbol: 'Ge', name: 'جرمانيوم', number: 32, mass: 72.63, electrons: [2, 8, 18, 4], type: 'metalloid'},
            {symbol: 'As', name: 'زرنيخ', number: 33, mass: 74.92, electrons: [2, 8, 18, 5], type: 'metalloid'},
            {symbol: 'Se', name: 'سيلينيوم', number: 34, mass: 78.96, electrons: [2, 8, 18, 6], type: 'nonmetal'},
            {symbol: 'Br', name: 'بروم', number: 35, mass: 79.90, electrons: [2, 8, 18, 7], type: 'halogen'},
            {symbol: 'Kr', name: 'كريبتون', number: 36, mass: 83.80, electrons: [2, 8, 18, 8], type: 'noble-gas'},
            {symbol: 'Rb', name: 'روبيديوم', number: 37, mass: 85.47, electrons: [2, 8, 18, 8, 1], type: 'alkali-metal'},
            {symbol: 'Sr', name: 'سترونشيوم', number: 38, mass: 87.62, electrons: [2, 8, 18, 8, 2], type: 'alkaline-earth'},
            {symbol: 'Y', name: 'إتريوم', number: 39, mass: 88.91, electrons: [2, 8, 18, 9, 2], type: 'transition-metal'},
            {symbol: 'Zr', name: 'زركونيوم', number: 40, mass: 91.22, electrons: [2, 8, 18, 10, 2], type: 'transition-metal'},
            {symbol: 'Nb', name: 'نيوبيوم', number: 41, mass: 92.91, electrons: [2, 8, 18, 12, 1], type: 'transition-metal'},
            {symbol: 'Mo', name: 'موليبدينوم', number: 42, mass: 95.94, electrons: [2, 8, 18, 13, 1], type: 'transition-metal'},
            {symbol: 'Tc', name: 'تكنيتيوم', number: 43, mass: 98.00, electrons: [2, 8, 18, 13, 2], type: 'transition-metal'},
            {symbol: 'Ru', name: 'روثينيوم', number: 44, mass: 101.1, electrons: [2, 8, 18, 15, 1], type: 'transition-metal'},
            {symbol: 'Rh', name: 'روديوم', number: 45, mass: 102.9, electrons: [2, 8, 18, 16, 1], type: 'transition-metal'},
            {symbol: 'Pd', name: 'بالاديوم', number: 46, mass: 106.4, electrons: [2, 8, 18, 18], type: 'transition-metal'},
            {symbol: 'Ag', name: 'فضة', number: 47, mass: 107.9, electrons: [2, 8, 18, 18, 1], type: 'transition-metal'},
            {symbol: 'Cd', name: 'كادميوم', number: 48, mass: 112.4, electrons: [2, 8, 18, 18, 2], type: 'transition-metal'},
            {symbol: 'In', name: 'إنديوم', number: 49, mass: 114.8, electrons: [2, 8, 18, 18, 3], type: 'post-transition'},
            {symbol: 'Sn', name: 'قصدير', number: 50, mass: 118.7, electrons: [2, 8, 18, 18, 4], type: 'post-transition'},
            {symbol: 'Sb', name: 'أنتموان', number: 51, mass: 121.8, electrons: [2, 8, 18, 18, 5], type: 'metalloid'},
            {symbol: 'Te', name: 'تيلوريوم', number: 52, mass: 127.6, electrons: [2, 8, 18, 18, 6], type: 'metalloid'},
            {symbol: 'I', name: 'يود', number: 53, mass: 126.9, electrons: [2, 8, 18, 18, 7], type: 'halogen'},
            {symbol: 'Xe', name: 'زينون', number: 54, mass: 131.3, electrons: [2, 8, 18, 18, 8], type: 'noble-gas'},
            {symbol: 'Cs', name: 'سيزيوم', number: 55, mass: 132.9, electrons: [2, 8, 18, 18, 8, 1], type: 'alkali-metal'},
            {symbol: 'Ba', name: 'باريوم', number: 56, mass: 137.3, electrons: [2, 8, 18, 18, 8, 2], type: 'alkaline-earth'},
            {symbol: 'La', name: 'لانثانوم', number: 57, mass: 138.9, electrons: [2, 8, 18, 18, 9, 2], type: 'lanthanide'},
            {symbol: 'Ce', name: 'سيريوم', number: 58, mass: 140.1, electrons: [2, 8, 18, 19, 9, 2], type: 'lanthanide'},
            {symbol: 'Pr', name: 'براسيوديميوم', number: 59, mass: 140.9, electrons: [2, 8, 18, 21, 8, 2], type: 'lanthanide'},
            {symbol: 'Nd', name: 'نيوديميوم', number: 60, mass: 144.2, electrons: [2, 8, 18, 22, 8, 2], type: 'lanthanide'},
            {symbol: 'Pm', name: 'بروميثيوم', number: 61, mass: 145.0, electrons: [2, 8, 18, 23, 8, 2], type: 'lanthanide'},
            {symbol: 'Sm', name: 'ساماريوم', number: 62, mass: 150.4, electrons: [2, 8, 18, 24, 8, 2], type: 'lanthanide'},
            {symbol: 'Eu', name: 'يوروبيوم', number: 63, mass: 152.0, electrons: [2, 8, 18, 25, 8, 2], type: 'lanthanide'},
            {symbol: 'Gd', name: 'جادولينيوم', number: 64, mass: 157.3, electrons: [2, 8, 18, 25, 9, 2], type: 'lanthanide'},
            {symbol: 'Tb', name: 'تربيوم', number: 65, mass: 158.9, electrons: [2, 8, 18, 27, 8, 2], type: 'lanthanide'},
            {symbol: 'Dy', name: 'ديسبروسيوم', number: 66, mass: 162.5, electrons: [2, 8, 18, 28, 8, 2], type: 'lanthanide'},
            {symbol: 'Ho', name: 'هولميوم', number: 67, mass: 164.9, electrons: [2, 8, 18, 29, 8, 2], type: 'lanthanide'},
            {symbol: 'Er', name: 'إيربيوم', number: 68, mass: 167.3, electrons: [2, 8, 18, 30, 8, 2], type: 'lanthanide'},
            {symbol: 'Tm', name: 'توليوم', number: 69, mass: 168.9, electrons: [2, 8, 18, 31, 8, 2], type: 'lanthanide'},
            {symbol: 'Yb', name: 'يتربيوم', number: 70, mass: 173.0, electrons: [2, 8, 18, 32, 8, 2], type: 'lanthanide'},
            {symbol: 'Lu', name: 'لوثيتيوم', number: 71, mass: 175.0, electrons: [2, 8, 18, 32, 9, 2], type: 'lanthanide'},
            {symbol: 'Hf', name: 'هافنيوم', number: 72, mass: 178.5, electrons: [2, 8, 18, 32, 10, 2], type: 'transition-metal'},
            {symbol: 'Ta', name: 'تانتالوم', number: 73, mass: 180.9, electrons: [2, 8, 18, 32, 11, 2], type: 'transition-metal'},
            {symbol: 'W', name: 'تنجستن', number: 74, mass: 183.8, electrons: [2, 8, 18, 32, 12, 2], type: 'transition-metal'},
            {symbol: 'Re', name: 'رينيوم', number: 75, mass: 186.2, electrons: [2, 8, 18, 32, 13, 2], type: 'transition-metal'},
            {symbol: 'Os', name: 'أوزميوم', number: 76, mass: 190.2, electrons: [2, 8, 18, 32, 14, 2], type: 'transition-metal'},
            {symbol: 'Ir', name: 'إيريديوم', number: 77, mass: 192.2, electrons: [2, 8, 18, 32, 15, 2], type: 'transition-metal'},
            {symbol: 'Pt', name: 'بلاتين', number: 78, mass: 195.1, electrons: [2, 8, 18, 32, 17, 1], type: 'transition-metal'},
            {symbol: 'Au', name: 'ذهب', number: 79, mass: 197.0, electrons: [2, 8, 18, 32, 18, 1], type: 'transition-metal'},
            {symbol: 'Hg', name: 'زئبق', number: 80, mass: 200.6, electrons: [2, 8, 18, 32, 18, 2], type: 'transition-metal'},
            {symbol: 'Tl', name: 'ثاليوم', number: 81, mass: 204.4, electrons: [2, 8, 18, 32, 18, 3], type: 'post-transition'},
            {symbol: 'Pb', name: 'رصاص', number: 82, mass: 207.2, electrons: [2, 8, 18, 32, 18, 4], type: 'post-transition'},
            {symbol: 'Bi', name: 'بزموت', number: 83, mass: 209.0, electrons: [2, 8, 18, 32, 18, 5], type: 'post-transition'},
            {symbol: 'Po', name: 'بولونيوم', number: 84, mass: 209.0, electrons: [2, 8, 18, 32, 18, 6], type: 'metalloid'},
            {symbol: 'At', name: 'أستاتين', number: 85, mass: 210.0, electrons: [2, 8, 18, 32, 18, 7], type: 'halogen'},
            {symbol: 'Rn', name: 'رادون', number: 86, mass: 222.0, electrons: [2, 8, 18, 32, 18, 8], type: 'noble-gas'},
            {symbol: 'Fr', name: 'فرانسيوم', number: 87, mass: 223.0, electrons: [2, 8, 18, 32, 18, 8, 1], type: 'alkali-metal'},
            {symbol: 'Ra', name: 'راديوم', number: 88, mass: 226.0, electrons: [2, 8, 18, 32, 18, 8, 2], type: 'alkaline-earth'},
            {symbol: 'Ac', name: 'أكتينيوم', number: 89, mass: 227.0, electrons: [2, 8, 18, 32, 18, 9, 2], type: 'actinide'},
            {symbol: 'Th', name: 'ثوريوم', number: 90, mass: 232.0, electrons: [2, 8, 18, 32, 18, 10, 2], type: 'actinide'},
            {symbol: 'Pa', name: 'بروتكتينيوم', number: 91, mass: 231.0, electrons: [2, 8, 18, 32, 20, 9, 2], type: 'actinide'},
            {symbol: 'U', name: 'يورانيوم', number: 92, mass: 238.0, electrons: [2, 8, 18, 32, 21, 9, 2], type: 'actinide'},
            {symbol: 'Np', name: 'نبتونيوم', number: 93, mass: 237.0, electrons: [2, 8, 18, 32, 23, 8, 2], type: 'actinide'},
            {symbol: 'Pu', name: 'بلوتونيوم', number: 94, mass: 244.0, electrons: [2, 8, 18, 32, 24, 8, 2], type: 'actinide'},
            {symbol: 'Am', name: 'أمريسيوم', number: 95, mass: 243.0, electrons: [2, 8, 18, 32, 25, 8, 2], type: 'actinide'},
            {symbol: 'Cm', name: 'كوريوم', number: 96, mass: 247.0, electrons: [2, 8, 18, 32, 25, 9, 2], type: 'actinide'},
            {symbol: 'Bk', name: 'بركليوم', number: 97, mass: 247.0, electrons: [2, 8, 18, 32, 27, 8, 2], type: 'actinide'},
            {symbol: 'Cf', name: 'كاليفورنيوم', number: 98, mass: 251.0, electrons: [2, 8, 18, 32, 28, 8, 2], type: 'actinide'},
            {symbol: 'Es', name: 'أينشتاينيوم', number: 99, mass: 252.0, electrons: [2, 8, 18, 32, 29, 8, 2], type: 'actinide'},
            {symbol: 'Fm', name: 'فرميوم', number: 100, mass: 257.0, electrons: [2, 8, 18, 32, 30, 8, 2], type: 'actinide'},
            {symbol: 'Md', name: 'مندليفيوم', number: 101, mass: 258.0, electrons: [2, 8, 18, 32, 31, 8, 2], type: 'actinide'},
            {symbol: 'No', name: 'نوبليوم', number: 102, mass: 259.0, electrons: [2, 8, 18, 32, 32, 8, 2], type: 'actinide'},
            {symbol: 'Lr', name: 'لورنسيوم', number: 103, mass: 262.0, electrons: [2, 8, 18, 32, 32, 9, 2], type: 'actinide'},
            {symbol: 'Rf', name: 'رذرفورديوم', number: 104, mass: 267.0, electrons: [2, 8, 18, 32, 32, 10, 2], type: 'transition-metal'},
            {symbol: 'Db', name: 'دوبنيوم', number: 105, mass: 268.0, electrons: [2, 8, 18, 32, 32, 11, 2], type: 'transition-metal'},
            {symbol: 'Sg', name: 'سيبورغيوم', number: 106, mass: 271.0, electrons: [2, 8, 18, 32, 32, 12, 2], type: 'transition-metal'},
            {symbol: 'Bh', name: 'بوريوم', number: 107, mass: 272.0, electrons: [2, 8, 18, 32, 32, 13, 2], type: 'transition-metal'},
            {symbol: 'Hs', name: 'هاسيوم', number: 108, mass: 270.0, electrons: [2, 8, 18, 32, 32, 14, 2], type: 'transition-metal'},
            {symbol: 'Mt', name: 'مايتنيريوم', number: 109, mass: 276.0, electrons: [2, 8, 18, 32, 32, 15, 2], type: 'transition-metal'},
            {symbol: 'Ds', name: 'دارمشتاتيوم', number: 110, mass: 281.0, electrons: [2, 8, 18, 32, 32, 17, 1], type: 'transition-metal'},
            {symbol: 'Rg', name: 'رونتجينيوم', number: 111, mass: 280.0, electrons: [2, 8, 18, 32, 32, 18, 1], type: 'transition-metal'},
            {symbol: 'Cn', name: 'كوبرنيكيوم', number: 112, mass: 285.0, electrons: [2, 8, 18, 32, 32, 18, 2], type: 'transition-metal'},
            {symbol: 'Nh', name: 'نيهونيوم', number: 113, mass: 286.0, electrons: [2, 8, 18, 32, 32, 18, 3], type: 'post-transition'},
            {symbol: 'Fl', name: 'فليرفيوم', number: 114, mass: 289.0, electrons: [2, 8, 18, 32, 32, 18, 4], type: 'post-transition'},
            {symbol: 'Mc', name: 'موسكوفيوم', number: 115, mass: 289.0, electrons: [2, 8, 18, 32, 32, 18, 5], type: 'post-transition'},
            {symbol: 'Lv', name: 'ليفرموريوم', number: 116, mass: 293.0, electrons: [2, 8, 18, 32, 32, 18, 6], type: 'post-transition'},
            {symbol: 'Ts', name: 'تينيسين', number: 117, mass: 294.0, electrons: [2, 8, 18, 32, 32, 18, 7], type: 'halogen'},
            {symbol: 'Og', name: 'أغانيسون', number: 118, mass: 294.0, electrons: [2, 8, 18, 32, 32, 18, 8], type: 'noble-gas'}
        ];

        // المتغيرات العامة
        let scene, camera, renderer, controls;
        let atomGroup;
        let currentElement = null;
        let rotationSpeed = 0.01;
        let nucleusSizeMultiplier = 1;
        let orbitSizeMultiplier = 1;
        let showElectrons = true;
        let modelType = 'bohr'; // bohr or quantum

        // ألوان العناصر حسب النوع
        const typeColors = {
            'noble-gas': '#ff6b6b',
            'alkali-metal': '#4ecdc4',
            'alkaline-earth': '#45b7d1',
            'transition-metal': '#f9ca24',
            'post-transition': '#6c5ce7',
            'metalloid': '#a29bfe',
            'nonmetal': '#fd79a8',
            'halogen': '#fdcb6e',
            'lanthanide': '#e17055',
            'actinide': '#00b894'
        };

        // تهيئة المشهد
        function initScene() {
            const container = document.getElementById('atom-canvas');
            container.innerHTML = '';

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setClearColor(0x000000, 0);
            container.appendChild(renderer.domElement);

            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.enableZoom = true;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 1;

            camera.position.z = 30;

            // إضافة إضاءة
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);

            const pointLight = new THREE.PointLight(0xffffff, 0.8);
            pointLight.position.set(10, 10, 10);
            scene.add(pointLight);

            atomGroup = new THREE.Group();
            scene.add(atomGroup);

            animate();
        }

        // إنشاء ذرة
        function createAtom(element) {
            // مسح الذرة الحالية
            while(atomGroup.children.length > 0) {
                atomGroup.remove(atomGroup.children[0]);
            }

            // إنشاء النواة
            const nucleusGeometry = new THREE.SphereGeometry(2 * nucleusSizeMultiplier, 32, 32);
            const nucleusMaterial = new THREE.MeshPhongMaterial({
                color: typeColors[element.type] || 0xffffff,
                emissive: typeColors[element.type] || 0xffffff,
                emissiveIntensity: 0.3
            });
            const nucleus = new THREE.Mesh(nucleusGeometry, nucleusMaterial);
            atomGroup.add(nucleus);

            // إضافة توهج للنواة
            const glowGeometry = new THREE.SphereGeometry(2.5 * nucleusSizeMultiplier, 32, 32);
            const glowMaterial = new THREE.MeshBasicMaterial({
                color: typeColors[element.type] || 0xffffff,
                transparent: true,
                opacity: 0.3
            });
            const glow = new THREE.Mesh(glowGeometry, glowMaterial);
            atomGroup.add(glow);

            // إنشاء المدارات والإلكترونات
            if (modelType === 'bohr') {
                createBohrModel(element);
            } else {
                createQuantumModel(element);
            }

            // إضافة نص للرمز
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 128;
            canvas.height = 128;
            context.fillStyle = 'white';
            context.font = 'bold 80px Arial';
            context.textAlign = 'center';
            context.textBaseline = 'middle';
            context.fillText(element.symbol, 64, 64);

            const texture = new THREE.CanvasTexture(canvas);
            const spriteMaterial = new THREE.SpriteMaterial({ map: texture });
            const sprite = new THREE.Sprite(spriteMaterial);
            sprite.scale.set(4, 4, 1);
            sprite.position.y = 5;
            atomGroup.add(sprite);
        }

        // نموذج بور
        function createBohrModel(element) {
            const orbitRadii = [5, 8, 12, 16, 20, 24, 28];
            
            element.electrons.forEach((electronCount, shellIndex) => {
                if (electronCount === 0) return;

                const radius = orbitRadii[shellIndex] * orbitSizeMultiplier;
                
                // إنشاء المدار
                const orbitGeometry = new THREE.RingGeometry(radius - 0.1, radius + 0.1, 64);
                const orbitMaterial = new THREE.MeshBasicMaterial({
                    color: 0x444444,
                    transparent: true,
                    opacity: 0.3,
                    side: THREE.DoubleSide
                });
                const orbit = new THREE.Mesh(orbitGeometry, orbitMaterial);
                orbit.rotation.x = Math.PI / 2;
                atomGroup.add(orbit);

                // إنشاء الإلكترونات
                if (showElectrons) {
                    for (let i = 0; i < electronCount; i++) {
                        const electronGeometry = new THREE.SphereGeometry(0.3, 16, 16);
                        const electronMaterial = new THREE.MeshPhongMaterial({
                            color: 0x00ffff,
                            emissive: 0x00ffff,
                            emissiveIntensity: 0.5
                        });
                        const electron = new THREE.Mesh(electronGeometry, electronMaterial);
                        
                        const angle = (i / electronCount) * Math.PI * 2;
                        electron.position.x = Math.cos(angle) * radius;
                        electron.position.z = Math.sin(angle) * radius;
                        
                        // إضافة حركة للإلكترون
                        electron.userData = {
                            angle: angle,
                            radius: radius,
                            speed: 0.02 / (shellIndex + 1)
                        };
                        
                        atomGroup.add(electron);
                    }
                }
            });
        }

        // نموذج كمي مبسط
        function createQuantumModel(element) {
            const orbitRadii = [5, 8, 12, 16, 20, 24, 28];
            
            element.electrons.forEach((electronCount, shellIndex) => {
                if (electronCount === 0) return;

                const radius = orbitRadii[shellIndex] * orbitSizeMultiplier;
                
                // إنشاء سحابة إلكترونية
                const cloudGeometry = new THREE.SphereGeometry(radius, 32, 32);
                const cloudMaterial = new THREE.MeshBasicMaterial({
                    color: 0x00ffff,
                    transparent: true,
                    opacity: 0.1 * (electronCount / 8)
                });
                const cloud = new THREE.Mesh(cloudGeometry, cloudMaterial);
                atomGroup.add(cloud);

                // إنشاء نقاط إلكترونية عشوائية
                if (showElectrons) {
                    for (let i = 0; i < Math.min(electronCount * 5, 50); i++) {
                        const electronGeometry = new THREE.SphereGeometry(0.1, 8, 8);
                        const electronMaterial = new THREE.MeshBasicMaterial({
                            color: 0x00ffff,
                            transparent: true,
                            opacity: 0.6
                        });
                        const electron = new THREE.Mesh(electronGeometry, electronMaterial);
                        
                        // موضع عشوائي داخل السحابة
                        const theta = Math.random() * Math.PI * 2;
                        const phi = Math.random() * Math.PI;
                        const r = radius * Math.cbrt(Math.random());
                        
                        electron.position.x = r * Math.sin(phi) * Math.cos(theta);
                        electron.position.y = r * Math.sin(phi) * Math.sin(theta);
                        electron.position.z = r * Math.cos(phi);
                        
                        // حركة عشوائية
                        electron.userData = {
                            vx: (Math.random() - 0.5) * 0.1,
                            vy: (Math.random() - 0.5) * 0.1,
                            vz: (Math.random() - 0.5) * 0.1,
                            radius: radius
                        };
                        
                        atomGroup.add(electron);
                    }
                }
            });
        }

        // تحريك المشهد
        function animate() {
            requestAnimationFrame(animate);

            // تحريك الإلكترونات
            atomGroup.children.forEach(child => {
                if (child.userData.angle !== undefined) {
                    // حركة دائرية لنموذج بور
                    child.userData.angle += child.userData.speed * rotationSpeed * 50;
                    child.position.x = Math.cos(child.userData.angle) * child.userData.radius;
                    child.position.z = Math.sin(child.userData.angle) * child.userData.radius;
                } else if (child.userData.vx !== undefined) {
                    // حركة عشوائية للنموذج الكمي
                    child.position.x += child.userData.vx;
                    child.position.y += child.userData.vy;
                    child.position.z += child.userData.vz;
                    
                    // الحفاظ على الإلكترونات داخل السحابة
                    const distance = child.position.length();
                    if (distance > child.userData.radius) {
                        const scale = child.userData.radius / distance;
                        child.position.multiplyScalar(scale);
                        child.userData.vx *= -1;
                        child.userData.vy *= -1;
                        child.userData.vz *= -1;
                    }
                }
            });

            controls.autoRotateSpeed = rotationSpeed;
            controls.update();
            renderer.render(scene, camera);
        }

        // عرض معلومات العنصر
        function showElementInfo(element) {
            const infoDiv = document.getElementById('element-info');
            const nameElement = document.getElementById('element-name');
            const infoGrid = document.getElementById('info-grid');

            nameElement.textContent = element.name;
            
            infoGrid.innerHTML = `
                <div class="info-item">
                    <div class="info-label">الرمز</div>
                    <div class="info-value">${element.symbol}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">الرقم الذري</div>
                    <div class="info-value">${element.number}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">الكتلة الذرية</div>
                    <div class="info-value">${element.mass}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">توزيع الإلكترونات</div>
                    <div class="info-value">${element.electrons.join(', ')}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">النوع</div>
                    <div class="info-value">${getTypeName(element.type)}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">عدد الإلكترونات</div>
                    <div class="info-value">${element.number}</div>
                </div>
            `;

            infoDiv.style.display = 'block';
        }

        // الحصول على اسم النوع بالعربية
        function getTypeName(type) {
            const typeNames = {
                'noble-gas': 'غاز نبيل',
                'alkali-metal': 'فلز قلوي',
                'alkaline-earth': 'فلز قلوي ترابي',
                'transition-metal': 'فلز انتقالي',
                'post-transition': 'فلز بعد انتقالي',
                'metalloid': 'شبه فلز',
                'nonmetal': 'لا فلز',
                'halogen': 'هالوجين',
                'lanthanide': 'لانثانيد',
                'actinide': 'أكتينيد'
            };
            return typeNames[type] || type;
        }

        // إنشاء الجدول الدوري
        function createPeriodicTable() {
            const table = document.getElementById('periodic-table');
            
            // إنشاء خلية فارغة للعناصر غير الموجودة في الموقع الصحيح
            for (let i = 1; i <= 118; i++) {
                const element = elements.find(e => e.number === i);
                const cell = document.createElement('div');
                
                if (element) {
                    cell.className = `element ${element.type}`;
                    cell.innerHTML = `
                        <div class="element-number">${element.number}</div>
                        <div class="element-symbol">${element.symbol}</div>
                    `;
                    cell.style.backgroundColor = typeColors[element.type] + '33';
                    cell.style.borderColor = typeColors[element.type];
                    
                    cell.addEventListener('click', () => {
                        // إزالة الفئة النشطة من جميع العناصر
                        document.querySelectorAll('.element').forEach(el => el.classList.remove('active'));
                        // إضافة الفئة النشطة للعنصر المحدد
                        cell.classList.add('active');
                        
                        currentElement = element;
                        createAtom(element);
                        showElementInfo(element);
                    });
                } else {
                    cell.className = 'element';
                    cell.style.visibility = 'hidden';
                }
                
                table.appendChild(cell);
            }
        }

        // معالجة أحداث التحكم
        function setupControls() {
            // سرعة الدوران
            document.getElementById('rotation-speed').addEventListener('input', (e) => {
                rotationSpeed = e.target.value / 5000;
            });

            // حجم النواة
            document.getElementById('nucleus-size').addEventListener('input', (e) => {
                nucleusSizeMultiplier = e.target.value / 100;
                if (currentElement) {
                    createAtom(currentElement);
                }
            });

            // حجم المدارات
            document.getElementById('orbit-size').addEventListener('input', (e) => {
                orbitSizeMultiplier = e.target.value / 100;
                if (currentElement) {
                    createAtom(currentElement);
                }
            });

            // تبديل عرض الإلكترونات
            document.getElementById('toggle-electrons').addEventListener('click', (e) => {
                showElectrons = !showElectrons;
                e.target.textContent = showElectrons ? 'إخفاء الإلكترونات' : 'إظهار الإلكترونات';
                if (currentElement) {
                    createAtom(currentElement);
                }
            });

            // تبديل نموذج العرض
            document.getElementById('model-toggle').addEventListener('click', (e) => {
                modelType = modelType === 'bohr' ? 'quantum' : 'bohr';
                e.target.textContent = modelType === 'bohr' ? 'نموذج بور' : 'نموذج كمي';
                if (currentElement) {
                    createAtom(currentElement);
                }
            });
        }

        // معالجة تغيير حجم النافذة
        function handleResize() {
            const container = document.getElementById('atom-canvas');
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        }

        // تهيئة التطبيق
        function init() {
            initScene();
            createPeriodicTable();
            setupControls();
            window.addEventListener('resize', handleResize);
        }

        // بدء التطبيق عند تحميل الصفحة
        window.addEventListener('load', init);
    </script>
</body>
</html>